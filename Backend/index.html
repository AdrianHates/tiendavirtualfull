<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Agregar producto</title>
  </head>
  <body>
    <h1>Agregar producto</h1>
    <form id="addProductForm">
      <div>
        <label for="name">Nombre:</label>
        <input type="text" id="name" name="name" required>
      </div>
      <div>
        <label for="description">Descripción:</label>
        <textarea id="description" name="description" required></textarea>
      </div>
      <div>
        <label for="price">Precio:</label>
        <input type="number" id="price" name="price" step="0.01" required>
      </div>
      <div>
        <label for="category">Categoría:</label>
        <select id="category" name="category" required>
          <option value="">--Seleccionar--</option>
          <option value="Hombre">Hombre</option>
          <option value="Mujer">Mujer</option>
          <option value="Niño">Niño</option>
          <option value="Niña">Niña</option>
        </select>
      </div>
      <div>
        <label for="marca">Marca:</label>
        <input type="text" id="marca" name="marca" required>
      </div>
      <div>
        
        <label for="url-part-1">URL Parte 1:</label>
        <input type="text" id="url-part-1" name="url-part-1" required/>

        <label for="url-part-2">URL Parte 2:</label>
        <input type="text" id="url-part-2" name="url-part-2" required/>

        <label for="url-part-3">URL Parte 3:</label>
        <input type="text" id="url-part-3" name="url-part-3" required/>
        <label for="url-part-3">URL Parte 4:</label>
        <input type="text" id="url-part-4" name="url-part-4" required/>
      </div>
      <div>
        <label for="stock">Stock:</label>
        <input type="number" id="stock" name="stock" required>
      </div>
      <div>
        <button type="submit">Agregar</button>
      </div>
    </form>

    <script>
      const form = document.querySelector('#addProductForm');

      form.addEventListener('submit', (event) => {
        event.preventDefault()
        const name = form.name.value;
        const description = form.description.value;
        const price = form.price.value;
        const category = form.category.value;
        const marca = form.marca.value;
        const stock = form.stock.value;
        const url = [
      form['url-part-1'].value,
      form['url-part-2'].value,
      form['url-part-3'].value,
      form['url-part-4'].value,

    ];

        fetch('/admin/addProductos', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ name, description, price, category, marca, url, stock })
        })
        .then(response => response.json())
        .then(data => {
          console.log(data);
          alert('Producto agregado exitosamente');
        })
        .catch(error => {
          console.error(error);
          alert('Error al agregar producto');
        });
      });
    </script>
  </body>
</html>